name: mnist
description: MLCommons MNIST MLCube example
authors:
  - {name: "Sergey Serebryakov", email: "sergey.serebryakov@hpe.com", org: "Hewlett-Packard Labs"}

platform:
  accelerator_count: 0

container:
  image: mlcommons/mnist:0.0.1        # Image name.
  build_context: "mnist"              # Docker build context relative to $MLCUBE_ROOT. Default is `build`.
  build_file: "Dockerfile"            # Docker file name within docker build context, default is `Dockerfile`.

tasks:
  download:
    io:
      - {name: data_dir, type: directory, io: output, default: $WORKSPACE/data}
      - {name: log_dir, type: directory, io: output, default: $WORKSPACE/logs/download}
  train:
    io:
      - {name: data_dir, type: directory, io: input, default: $WORKSPACE/data}
      - {name: parameters_file, type: file, io: input, default: $WORKSPACE/parameters/default.parameters.yaml}
      - {name: log_dir, type: directory, io: output, default: $WORKSPACE/logs/train}
      - {name: model_dir, type: directory, io: output, default: $WORKSPACE/model}
